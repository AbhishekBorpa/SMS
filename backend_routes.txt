backend/src/routes/settingRoutes.js:router.get('/', protect, getSettings);
backend/src/routes/settingRoutes.js:router.put('/', protect, admin, updateSettings);
backend/src/routes/enrollmentRoutes.js:router.post('/:courseId', protect, enrollCourse);
backend/src/routes/enrollmentRoutes.js:router.put('/lesson-complete', protect, completeLesson);
backend/src/routes/enrollmentRoutes.js:router.get('/my-courses', protect, getMyCourses);
backend/src/routes/galleryRoutes.js:router.post('/', protect, adminOrTeacher, uploadPhoto);
backend/src/routes/galleryRoutes.js:router.get('/', protect, getPhotos);
backend/src/routes/galleryRoutes.js:router.delete('/:id', protect, adminOrTeacher, deletePhoto);
backend/src/routes/attendanceRoutes.js:router.post('/', protect, adminOrTeacher, takeAttendance);
backend/src/routes/attendanceRoutes.js:router.get('/student/:studentId', protect, getStudentAttendance);
backend/src/routes/attendanceRoutes.js:router.get('/:classId', protect, getAttendance);
backend/src/routes/authRoutes.js:router.post('/register', authLimiter, [
backend/src/routes/authRoutes.js:router.post('/login', authLimiter, [
backend/src/routes/authRoutes.js:router.post('/change-password', protect, changePassword);
backend/src/routes/authRoutes.js:router.post('/forgot-password', authLimiter, [
backend/src/routes/authRoutes.js:router.put('/reset-password/:resetToken', authLimiter, [
backend/src/routes/authRoutes.js:router.get('/me', protect, getMe);
backend/src/routes/submissionRoutes.js:router.post('/', protect, submitAssignment);
backend/src/routes/submissionRoutes.js:router.get('/my/:assignmentId', protect, getMySubmission);
backend/src/routes/submissionRoutes.js:router.get('/assignment/:assignmentId', protect, getSubmissionsForAssignment);
backend/src/routes/submissionRoutes.js:router.put('/:id/grade', protect, gradeSubmission);
backend/src/routes/plannerRoutes.js:router.put('/:id', protect, updateLessonPlan);
backend/src/routes/statsRoutes.js:router.get('/', protect, adminOnly, getStats);
backend/src/routes/statsRoutes.js:router.get('/analytics', protect, adminOnly, getSchoolAnalytics);
backend/src/routes/statsRoutes.js:router.get('/teacher/:id', protect, adminOnly, getTeacherStats);
backend/src/routes/eventRoutes.js:router.post('/', protect, adminOnly, createEvent);
backend/src/routes/eventRoutes.js:router.get('/', protect, getEvents);
backend/src/routes/eventRoutes.js:router.delete('/:id', protect, adminOnly, deleteEvent);
backend/src/routes/transportRoutes.js:router.get('/', protect, getRoutes);
backend/src/routes/transportRoutes.js:router.post('/', protect, admin, createRoute);
backend/src/routes/transportRoutes.js:router.put('/:id', protect, admin, updateRoute);
backend/src/routes/transportRoutes.js:router.delete('/:id', protect, admin, deleteRoute);
backend/src/routes/classRoutes.js:router.get('/teacher', protect, teacher, getTeacherClasses);
backend/src/routes/classRoutes.js:router.get('/student', protect, getStudentClasses);
backend/src/routes/classRoutes.js:router.post('/:id/enroll', protect, adminOrTeacher, enrollStudent);
backend/src/routes/libraryRoutes.js:router.get('/', protect, getBooks);
backend/src/routes/libraryRoutes.js:router.post('/', protect, adminOrTeacher, addBook);
backend/src/routes/libraryRoutes.js:router.delete('/:id', protect, admin, deleteBook);
backend/src/routes/libraryRoutes.js:router.get('/loans', protect, admin, getLoans);
backend/src/routes/libraryRoutes.js:router.post('/loans', protect, admin, issueBook);
backend/src/routes/libraryRoutes.js:router.put('/loans/:loanId/return', protect, admin, returnBook);
backend/src/routes/noticeRoutes.js:router.post('/', protect, adminOnly, createNotice);
backend/src/routes/noticeRoutes.js:router.get('/', protect, getNotices);
backend/src/routes/noticeRoutes.js:router.delete('/:id', protect, adminOnly, deleteNotice);
backend/src/routes/messageRoutes.js:router.get('/targets', protect, getChatTargets);
backend/src/routes/messageRoutes.js:router.get('/:userId', protect, getConversation);
backend/src/routes/lostFoundRoutes.js:router.put('/:id/resolve', protect, resolveItem);
backend/src/routes/remarkRoutes.js:router.post('/', protect, adminOrTeacher, addRemark);
backend/src/routes/remarkRoutes.js:router.get('/my', protect, getMyRemarks); // Route order matters! Specific paths first.
backend/src/routes/remarkRoutes.js:router.get('/:studentId', protect, getRemarks);
backend/src/routes/aiRoutes.js:router.post('/chat', protect, chatWithAI);
backend/src/routes/aiRoutes.js:router.get('/analyze', protect, analyzePerformance);
backend/src/routes/aiRoutes.js:router.get('/analyze/:studentId', protect, analyzePerformance);
backend/src/routes/aiRoutes.js:router.post('/lesson-plan', protect, generateLessonPlan);
backend/src/routes/aiRoutes.js:router.post('/quiz', protect, generateQuiz);
backend/src/routes/aiRoutes.js:router.post('/timetable', protect, generateTimetable);
backend/src/routes/userRoutes.js:router.post('/teacher', protect, admin, createTeacher);
backend/src/routes/userRoutes.js:router.post('/student', protect, adminOrTeacher, createStudent);
backend/src/routes/userRoutes.js:router.get('/', protect, adminOrTeacher, getUsers);
backend/src/routes/userRoutes.js:router.get('/stats', protect, admin, getDashboardStats);
backend/src/routes/userRoutes.js:router.put('/push-token', protect, updatePushToken);
backend/src/routes/canteenRoutes.js:router.get('/menu', protect, getMenu);
backend/src/routes/canteenRoutes.js:router.post('/order', protect, placeOrder);
backend/src/routes/canteenRoutes.js:router.get('/orders', protect, getMyOrders);
backend/src/routes/canteenRoutes.js:router.post('/seed', protect, admin, seedMenu);
backend/src/routes/companyRoutes.js:router.get('/stats', getPlatformStats);
backend/src/routes/companyRoutes.js:router.get('/schools', getAllSchools);
backend/src/routes/companyRoutes.js:router.get('/audit-logs', getGlobalAuditLogs);
backend/src/routes/reportRoutes.js:router.get('/card', protect, getStudentReportCard);
backend/src/routes/visitorRoutes.js:router.put('/:id/exit', protect, adminOnly, markVisitorExit);
backend/src/routes/ptmRoutes.js:router.put('/:id', protect, updateSlot);
backend/src/routes/certificateRoutes.js:router.get('/:courseId', protect, getCourseCertificate);
backend/src/routes/leaveRoutes.js:router.post('/', protect, adminOrTeacher, applyLeave);
backend/src/routes/leaveRoutes.js:router.get('/', protect, adminOrTeacher, getLeaves);
backend/src/routes/leaveRoutes.js:router.put('/:id', protect, adminOnly, updateLeaveStatus);
backend/src/routes/behaviorRoutes.js:router.get('/student/:id', protect, getStudentBehavior);
backend/src/routes/behaviorRoutes.js:router.post('/', protect, addBehaviorPoints);
backend/src/routes/feeRoutes.js:router.get('/students', protect, adminOnly, getStudentsFeeStatus);
backend/src/routes/feeRoutes.js:router.put('/:id', protect, adminOnly, updateFeeDetails);
backend/src/routes/feeRoutes.js:router.get('/history/:studentId', protect, adminOnly, getTransactionHistory);
backend/src/routes/feeRoutes.js:router.get('/invoice', protect, getFeeInvoice);
backend/src/routes/feeRoutes.js:router.get('/me', protect, getMyFeeStatus);
backend/src/routes/feeRoutes.js:router.post('/upi/initiate', protect, studentOnly, createUpiPayment);
backend/src/routes/feeRoutes.js:router.post('/upi/webhook', handleUpiWebhook); // Webhooks are usually public and verified by secret/signature
backend/src/routes/studentLeaveRoutes.js:router.get('/pending', protect, getPendingLeaves);
backend/src/routes/quizRoutes.js:router.post('/', protect, adminOrTeacher, createQuiz);
backend/src/routes/quizRoutes.js:router.get('/', protect, getAllQuizzes);
backend/src/routes/quizRoutes.js:router.get('/leaderboard/global', protect, getLeaderboard);
backend/src/routes/quizRoutes.js:router.get('/available', protect, getQuizzesAvailable);
backend/src/routes/quizRoutes.js:router.get('/:id', protect, getQuizById);
backend/src/routes/quizRoutes.js:router.post('/:id/submit', protect, submitQuiz);
backend/src/routes/clubRoutes.js:router.post('/:id/join', protect, joinClub);
backend/src/routes/clubRoutes.js:router.post('/:id/leave', protect, leaveClub);
backend/src/routes/clubRoutes.js:router.post('/seed', protect, admin, seedClubs);
backend/src/routes/studyMaterialRoutes.js:router.post('/', protect, adminOrTeacher, uploadMaterial);
backend/src/routes/studyMaterialRoutes.js:router.get('/', protect, getMaterials);
backend/src/routes/studyMaterialRoutes.js:router.delete('/:id', protect, adminOrTeacher, deleteMaterial);
backend/src/routes/schoolRoutes.js:router.post('/', registerSchool);
backend/src/routes/schoolRoutes.js:router.get('/', getSchools);
backend/src/routes/schoolRoutes.js:router.get('/:slug', getSchoolBySlug);
backend/src/routes/complaintRoutes.js:router.post('/', protect, submitComplaint); // Teachers & Students
backend/src/routes/complaintRoutes.js:router.get('/', protect, adminOnly, getComplaints);
backend/src/routes/complaintRoutes.js:router.put('/:id', protect, adminOnly, resolveComplaint);
backend/src/routes/markRoutes.js:router.post('/', protect, adminOrTeacher, uploadMark);
backend/src/routes/markRoutes.js:router.get('/', protect, getMarks);
backend/src/routes/awardRoutes.js:router.get('/my', protect, getMyAwards);
backend/src/routes/awardRoutes.js:router.get('/student/:id', protect, adminOrTeacher, getStudentAwards);
